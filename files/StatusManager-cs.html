<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>StatusManager.cs</title><link rel="stylesheet" type="text/css" href="../styles/main.css" /><script type="text/javascript" src="../styles/main.js"></script><script type="text/javascript">NDLoader.LoadJS("Content", "../styles/");</script></head>

<!-- Generated by Natural Docs, version 2.0.2 -->

<!-- saved from url=(0016)http://localhost -->

<body onload="NDLoader.OnLoad('Content');" class="NDPage NDContentPage">

<a name="CodeClear.NaturalDocs.CLI.StatusManager"></a><a name="Topic4171"></a><div class="CTopic TClass LCSharp first">
 <div class="CTitle"><span class="Qualifier">CodeClear.&#8203;NaturalDocs.&#8203;CLI.</span>&#8203;StatusManager</div>
 <div class="NDClassPrototype HasParents HasChildren" id="NDClassPrototype4171"><div class="CPEntry Parent TClass"><div class="CPName">IDisposable</div></div><div class="CPEntry TClass Current"><div class="CPModifiers"><span class="SHKeyword">public</span></div><div class="CPName"><span class="Qualifier">CodeClear.&#8203;NaturalDocs.&#8203;CLI.</span>&#8203;StatusManager</div></div><a class="CPEntry Child TClass" href="../index.html#File:StatusManagers/Building.cs:CodeClear.NaturalDocs.CLI.StatusManagers.Building" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,4163);" onmouseout="NDContentPage.OnLinkMouseOut(event);" ><div class="CPName"><span class="Qualifier">CodeClear.&#8203;NaturalDocs.&#8203;CLI.&#8203;StatusManagers.</span>&#8203;Building</div></a><a class="CPEntry Child TClass" href="../index.html#File:StatusManagers/FileSearch.cs:CodeClear.NaturalDocs.CLI.StatusManagers.FileSearch" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,4153);" onmouseout="NDContentPage.OnLinkMouseOut(event);" ><div class="CPName"><span class="Qualifier">CodeClear.&#8203;NaturalDocs.&#8203;CLI.&#8203;StatusManagers.</span>&#8203;FileSearch</div></a><a class="CPEntry Child TClass" href="../index.html#File:StatusManagers/Parsing.cs:CodeClear.NaturalDocs.CLI.StatusManagers.Parsing" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,4141);" onmouseout="NDContentPage.OnLinkMouseOut(event);" ><div class="CPName"><span class="Qualifier">CodeClear.&#8203;NaturalDocs.&#8203;CLI.&#8203;StatusManagers.</span>&#8203;Parsing</div></a><a class="CPEntry Child TClass" href="../index.html#File:StatusManagers/PossiblyLongStartupOperation.cs:CodeClear.NaturalDocs.CLI.StatusManagers.PossiblyLongStartupOperation" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,4134);" onmouseout="NDContentPage.OnLinkMouseOut(event);" ><div class="CPName"><span class="Qualifier">CodeClear.&#8203;NaturalDocs.&#8203;CLI.&#8203;StatusManagers.</span>&#8203;PossiblyLongStartupOperation</div></a><a class="CPEntry Child TClass" href="../index.html#File:StatusManagers/ResolvingLinks.cs:CodeClear.NaturalDocs.CLI.StatusManagers.ResolvingLinks" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,4086);" onmouseout="NDContentPage.OnLinkMouseOut(event);" ><div class="CPName"><span class="Qualifier">CodeClear.&#8203;NaturalDocs.&#8203;CLI.&#8203;StatusManagers.</span>&#8203;ResolvingLinks</div></a></div>
 <div class="CBody"><p>A base class for all status managers, which handle posting status messages for long tasks.&nbsp; They can post beginning and/or ending messages, as well as updates on a set interval if the task takes long enough to require it.</p><div class="CHeading">Deriving a Status Manager</div><ul><li><p>Create a class with this as a parent.</p></li><li><p>If you're not using hideIfShorterThan you can override <a href="../index.html#File:StatusManager.cs:CodeClear.NaturalDocs.CLI.StatusManager.ShowStartMessage" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,4178);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >ShowStartMessage()</a> to capture the initial state of whatever you're tracking and also show the start message.</p></li><li><p>If you are using hideIfShorterThan, override <a href="../index.html#File:StatusManager.cs:CodeClear.NaturalDocs.CLI.StatusManager.Start" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,4174);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >Start()</a> to capture the initial state and override <a href="../index.html#File:StatusManager.cs:CodeClear.NaturalDocs.CLI.StatusManager.ShowStartMessage" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,4178);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >ShowStartMessage()</a> to show the starting message, as the call to <a href="../index.html#File:StatusManager.cs:CodeClear.NaturalDocs.CLI.StatusManager.ShowStartMessage" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,4178);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >ShowStartMessage()</a> will be delayed.&nbsp; Remember to call the base class's <a href="../index.html#File:StatusManager.cs:CodeClear.NaturalDocs.CLI.StatusManager.Start" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,4174);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >Start()</a> from your own.</p></li><li><p><a href="../index.html#File:StatusManager.cs:CodeClear.NaturalDocs.CLI.StatusManager.ShowUpdateMessage" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,4179);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >ShowUpdateMessage()</a> can be overridden to check the state of whatever you're tracking, compare it against its local copy, and post a status message if it's different.&nbsp; Since this will be called by a timer, realize that it will be executed in a different thread.</p></li><li><p><a href="../index.html#File:StatusManager.cs:CodeClear.NaturalDocs.CLI.StatusManager.ShowEndMessage" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,4180);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >ShowEndMessage()</a> can be overridden to post an ending message.</p></li></ul><div class="CHeading">Using a Status Manager</div><ul><li><p>Create the object.</p></li><li><p>Start the task you want to track and then call <a href="../index.html#File:StatusManager.cs:CodeClear.NaturalDocs.CLI.StatusManager.Start" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,4174);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >Start()</a>.&nbsp; It's only possible to start the status manager first if it's capable of fully reading the task's state before it starts.</p></li><li><p><a href="../index.html#File:StatusManager.cs:CodeClear.NaturalDocs.CLI.StatusManager.Update" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,4175);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >Update()</a> will be called automatically by an internal timer.&nbsp; You don't have to worry about it.</p></li><li><p>When the task finishes call <a href="../index.html#File:StatusManager.cs:CodeClear.NaturalDocs.CLI.StatusManager.End" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,4176);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >End()</a>.</p></li></ul></div>
</div>

<a name="CodeClear.NaturalDocs.CLI.StatusManager.Functions"></a><a name="Topic4172"></a><div class="CTopic TGroup LCSharp">
 <div class="CTitle">Functions</div>
</div>

<a name="CodeClear.NaturalDocs.CLI.StatusManager.StatusManager"></a><a name="Topic4173"></a><div class="CTopic TFunction LCSharp">
 <div class="CTitle">StatusManager</div>
 <div id="NDPrototype4173" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">public</span> StatusManager (</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PType first"><span class="SHKeyword">int</span>&nbsp;</td><td class="PName">updateInterval,</td><td></td><td class="last"></td></tr><tr><td class="PType first"><span class="SHKeyword">int</span>&nbsp;</td><td class="PName">hideIfShorterThan&nbsp;</td><td class="PDefaultValueSeparator">=&nbsp;</td><td class="PDefaultValue last"><span class="SHNumber">0</span></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div>
 <div class="CBody"><p>Creates a new status manager.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">updateInterval<div class="CDLParameterType"><span class="SHKeyword">int</span></div></td><td class="CDLDefinition"><p>The number of milliseconds between status updates if the task takes a long time.&nbsp; If this is zero, only start and end messages will be displayed.</p></td></tr><tr><td class="CDLEntry">hideIfShorterThan<div class="CDLParameterType"><span class="SHKeyword">int</span></div></td><td class="CDLDefinition"><p>The number of milliseconds where if the task starts and finishes within this time, no status is displayed at all.&nbsp; Zero means always show a status.</p></td></tr></table></div>
</div>

<a name="CodeClear.NaturalDocs.CLI.StatusManager.Start"></a><a name="Topic4174"></a><div class="CTopic TFunction LCSharp">
 <div class="CTitle">Start</div>
 <div id="NDPrototype4174" class="NDPrototype NoParameterForm"><span class="SHKeyword">virtual public</span> <span class="SHKeyword">void</span> Start()</div>
 <div class="CBody"><p>Starts monitoring the task.&nbsp; If you override this function make sure to call the base class's version.</p></div>
</div>

<a name="CodeClear.NaturalDocs.CLI.StatusManager.Update"></a><a name="Topic4175"></a><div class="CTopic TFunction LCSharp">
 <div class="CTitle">Update</div>
 <div id="NDPrototype4175" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">protected</span> <span class="SHKeyword">void</span> Update(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="first"></td><td class="PType">Object&nbsp;</td><td class="PName last">sender,</td></tr><tr><td class="PModifierQualifier first">System.Timers.</td><td class="PType">ElapsedEventArgs&nbsp;</td><td class="PName last">args</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div>
 <div class="CBody"><p>Called periodically to update the status message.&nbsp; This is handled automatically, you don't need to manually call it.</p></div>
</div>

<a name="CodeClear.NaturalDocs.CLI.StatusManager.End"></a><a name="Topic4176"></a><div class="CTopic TFunction LCSharp">
 <div class="CTitle">End</div>
 <div id="NDPrototype4176" class="NDPrototype NoParameterForm"><span class="SHKeyword">public</span> <span class="SHKeyword">void</span> End()</div>
 <div class="CBody"><p>Ends monitoring.</p></div>
</div>

<a name="CodeClear.NaturalDocs.CLI.StatusManager.Dispose"></a><a name="Topic4177"></a><div class="CTopic TFunction LCSharp">
 <div class="CTitle">Dispose</div>
 <div id="NDPrototype4177" class="NDPrototype NoParameterForm"><span class="SHKeyword">public</span> <span class="SHKeyword">void</span> Dispose ()</div>
</div>

<a name="CodeClear.NaturalDocs.CLI.StatusManager.ShowStartMessage"></a><a name="Topic4178"></a><div class="CTopic TFunction LCSharp">
 <div class="CTitle">ShowStartMessage</div>
 <div id="NDPrototype4178" class="NDPrototype NoParameterForm"><span class="SHKeyword">protected virtual</span> <span class="SHKeyword">void</span> ShowStartMessage ()</div>
 <div class="CBody"><p>Override this function to display a message at the start of a task.&nbsp; If hideIfShorterThan was specified, this will only be called if the task runs too long.&nbsp; Otherwise it will always be called.</p></div>
</div>

<a name="CodeClear.NaturalDocs.CLI.StatusManager.ShowUpdateMessage"></a><a name="Topic4179"></a><div class="CTopic TFunction LCSharp">
 <div class="CTitle">ShowUpdateMessage</div>
 <div id="NDPrototype4179" class="NDPrototype NoParameterForm"><span class="SHKeyword">protected virtual</span> <span class="SHKeyword">void</span> ShowUpdateMessage ()</div>
 <div class="CBody"><p>Override this function to display a progress message if the task runs too long.&nbsp; This can be called many times or not at all.</p></div>
</div>

<a name="CodeClear.NaturalDocs.CLI.StatusManager.ShowEndMessage"></a><a name="Topic4180"></a><div class="CTopic TFunction LCSharp">
 <div class="CTitle">ShowEndMessage</div>
 <div id="NDPrototype4180" class="NDPrototype NoParameterForm"><span class="SHKeyword">protected virtual</span> <span class="SHKeyword">void</span> ShowEndMessage ()</div>
 <div class="CBody"><p>Override this function to display a message at the end of a task.&nbsp; If hideIfShorterThan was specified, this will only be called if the task ran too long.&nbsp; Otherwise it will always be called.</p></div>
</div>

<a name="CodeClear.NaturalDocs.CLI.StatusManager.Variables"></a><a name="Topic4181"></a><div class="CTopic TGroup LCSharp">
 <div class="CTitle">Variables</div>
</div>

<a name="CodeClear.NaturalDocs.CLI.StatusManager.timer"></a><a name="Topic4182"></a><div class="CTopic TVariable LCSharp">
 <div class="CTitle">timer</div>
 <div id="NDPrototype4182" class="NDPrototype NoParameterForm"><span class="SHKeyword">protected</span> System.Timers.Timer timer</div>
 <div class="CBody"><p>The timer used to call <a href="../index.html#File:StatusManager.cs:CodeClear.NaturalDocs.CLI.StatusManager.Update" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,4175);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >Update()</a>.</p></div>
</div>

<a name="CodeClear.NaturalDocs.CLI.StatusManager.updateInterval"></a><a name="Topic4183"></a><div class="CTopic TVariable LCSharp">
 <div class="CTitle">updateInterval</div>
 <div id="NDPrototype4183" class="NDPrototype NoParameterForm"><span class="SHKeyword">protected</span> <span class="SHKeyword">int</span> updateInterval</div>
 <div class="CBody"><p>The number of milliseconds between status updates if the task takes a long time.&nbsp; If this is zero, only start and end messages will be displayed.</p></div>
</div>

<a name="CodeClear.NaturalDocs.CLI.StatusManager.hideIfShorterThan"></a><a name="Topic4184"></a><div class="CTopic TVariable LCSharp last">
 <div class="CTitle">hideIfShorterThan</div>
 <div id="NDPrototype4184" class="NDPrototype NoParameterForm"><span class="SHKeyword">protected</span> <span class="SHKeyword">int</span> hideIfShorterThan</div>
 <div class="CBody"><p>The number of milliseconds where if the task starts and completes within this interval, no status is displayed at all.&nbsp; This will also be set to zero if it was specified and the task ran long.</p></div>
</div>

</body></html>