<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>LineFinder.cs</title><link rel="stylesheet" type="text/css" href="../../styles/main.css" /><script type="text/javascript" src="../../styles/main.js"></script><script type="text/javascript">NDLoader.LoadJS("Content", "../../styles/");</script></head>

<!-- Generated by Natural Docs, version 2.0.2 -->

<!-- saved from url=(0016)http://localhost -->

<body onload="NDLoader.OnLoad('Content');" class="NDPage NDContentPage">

<a name="CodeClear.NaturalDocs.Engine.Comments.LineFinder"></a><a name="Topic792"></a><div class="CTopic TClass LCSharp first">
 <div class="CTitle"><span class="Qualifier">CodeClear.&#8203;NaturalDocs.&#8203;Engine.&#8203;Comments.</span>&#8203;LineFinder</div>
 <div class="NDClassPrototype" id="NDClassPrototype792"><div class="CPEntry TClass Current"><div class="CPModifiers"><span class="SHKeyword">public static</span></div><div class="CPName"><span class="Qualifier">CodeClear.&#8203;NaturalDocs.&#8203;Engine.&#8203;Comments.</span>&#8203;LineFinder</div></div></div>
 <div class="CBody"><p>A static class which finds vertical and horizontal lines in comments and marks them with <a href="../../index.html#File2:Tokenization/TokenTypes.cs:CodeClear.NaturalDocs.Engine.Tokenization.CommentParsingType.CommentDecoration" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,3272);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >Tokenization.CommentParsingType.CommentDecoration</a> so that they can be ignored in later stages of parsing.</p><p>Multithreading: Thread Safety Notes</p><p>This class can be used by multiple threads to parse multiple files simultaneously.&nbsp; The parsing functions store no state information inside the class.</p></div>
</div>

<a name="CodeClear.NaturalDocs.Engine.Comments.LineFinder.MarkTextBoxes"></a><a name="Topic793"></a><div class="CTopic TFunction LCSharp">
 <div class="CTitle">MarkTextBoxes</div>
 <div id="NDPrototype793" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">public static</span> <span class="SHKeyword">void</span> MarkTextBoxes (</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PType first"><a href="../../index.html#File2:Comments/PossibleDocumentationComment.cs:CodeClear.NaturalDocs.Engine.Comments.PossibleDocumentationComment" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,742);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >PossibleDocumentationComment</a>&nbsp;</td><td class="PName last">comment</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div>
 <div class="CBody"><p>Finds all text boxes in a comment and marks their tokens as <a href="../../index.html#File2:Tokenization/TokenTypes.cs:CodeClear.NaturalDocs.Engine.Tokenization.CommentParsingType.CommentDecoration" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,3272);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >Tokenization.CommentParsingType.CommentDecoration</a>.&nbsp; Vertical lines will only be detected if they are continuous throughout the comment and horizontal lines if they are connected to it.&nbsp; Freestanding horizontal lines are <b>not</b> detected here.&nbsp; This function tolerates differing symbols on corners and where embedded horizontal lines connect to the vertical.&nbsp; It also tolerates tokens marked with <a href="../../index.html#File2:Tokenization/TokenTypes.cs:CodeClear.NaturalDocs.Engine.Tokenization.CommentParsingType.CommentSymbol" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,3271);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >Tokenization.CommentParsingType.CommentSymbol</a> differing.</p><div class="CHeading">Examples</div><p>The box below will be marked completely, including the middle horizontal line.</p><pre>// +----------+<br />// | Title    |<br />// +----------+<br />// | Text     |<br />// +----------+</pre><p>The middle horizontal line below will not be marked, because it is not attached.</p><pre>// +----------+<br />// | Title    |<br />// | -------- |<br />// | Text     |<br />// +----------+</pre><p>Nor will the horizontal line below since there is no vertical.</p><pre>// Title<br />// ----------<br />// Text</pre><p>Freestanding horizontal lines are not detected because they may be intended literally, such as when part of a code section.&nbsp; If you're not in such a section use <a href="../../index.html#File2:Comments/LineFinder.cs:CodeClear.NaturalDocs.Engine.Comments.LineFinder.IsHorizontalLine" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,794);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >IsHorizontalLine()</a> before parsing a line to filter it out.</p><pre>// (start code)<br />// +-----+<br />// | box |<br />// +-----+<br />// (end code)</pre></div>
</div>

<a name="CodeClear.NaturalDocs.Engine.Comments.LineFinder.IsHorizontalLine"></a><a name="Topic794"></a><div class="CTopic TFunction LCSharp">
 <div class="CTitle">IsHorizontalLine</div>
 <div id="NDPrototype794" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">public static</span> <span class="SHKeyword">bool</span> IsHorizontalLine (</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PType first"><a href="../../index.html#File2:Tokenization/LineIterator.cs:CodeClear.NaturalDocs.Engine.Tokenization.LineIterator" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,3485);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >LineIterator</a>&nbsp;</td><td class="PName last">line</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div>
 <div class="CBody"><p>Returns whether the passed <a href="../../index.html#File2:Tokenization/LineIterator.cs:CodeClear.NaturalDocs.Engine.Tokenization.LineIterator" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,3485);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >LineIterator</a> is at a horizontal line, not including any comment symbols or decoration.</p></div>
</div>

<a name="CodeClear.NaturalDocs.Engine.Comments.LineFinder.Private_Functions"></a><a name="Topic795"></a><div class="CTopic TGroup LCSharp">
 <div class="CTitle">Private Functions</div>
</div>

<a name="CodeClear.NaturalDocs.Engine.Comments.LineFinder.CountSymbolLine"></a><a name="Topic796"></a><div class="CTopic TFunction LCSharp">
 <div class="CTitle">CountSymbolLine</div>
 <div id="NDPrototype796" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">private static</span> <span class="SHKeyword">bool</span> CountSymbolLine (</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PModifierQualifier first"><span class="SHKeyword">ref</span>&nbsp;</td><td class="PType"><a href="../../index.html#File2:Tokenization/TokenIterator.cs:CodeClear.NaturalDocs.Engine.Tokenization.TokenIterator" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,3415);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >TokenIterator</a>&nbsp;</td><td class="PName last">start,</td></tr><tr><td class="first"></td><td class="PType"><a href="../../index.html#File2:Tokenization/TokenIterator.cs:CodeClear.NaturalDocs.Engine.Tokenization.TokenIterator" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,3415);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >TokenIterator</a>&nbsp;</td><td class="PName last">end,</td></tr><tr><td class="PModifierQualifier first"><span class="SHKeyword">out</span>&nbsp;</td><td class="PType"><span class="SHKeyword">char</span>&nbsp;</td><td class="PName last">symbolA,</td></tr><tr><td class="PModifierQualifier first"><span class="SHKeyword">out</span>&nbsp;</td><td class="PType"><span class="SHKeyword">char</span>&nbsp;</td><td class="PName last">symbolB,</td></tr><tr><td class="PModifierQualifier first"><span class="SHKeyword">out</span>&nbsp;</td><td class="PType"><span class="SHKeyword">char</span>&nbsp;</td><td class="PName last">symbolC,</td></tr><tr><td class="PModifierQualifier first"><span class="SHKeyword">out</span>&nbsp;</td><td class="PType"><span class="SHKeyword">int</span>&nbsp;</td><td class="PName last">symbolACount,</td></tr><tr><td class="PModifierQualifier first"><span class="SHKeyword">out</span>&nbsp;</td><td class="PType"><span class="SHKeyword">int</span>&nbsp;</td><td class="PName last">symbolBCount,</td></tr><tr><td class="PModifierQualifier first"><span class="SHKeyword">out</span>&nbsp;</td><td class="PType"><span class="SHKeyword">int</span>&nbsp;</td><td class="PName last">symbolCCount</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div>
 <div class="CBody"><p>An internal function that detects whether the <a href="../../index.html#File2:Tokenization/TokenIterator.cs:CodeClear.NaturalDocs.Engine.Tokenization.TokenIterator" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,3415);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >TokenIterator</a> is on a symbol line, which is up to three stretches of symbol tokens in a row.&nbsp; If it's on at least one symbol it returns true and sets the A, B, and C characters and counts.&nbsp; If there are no B or C stretches they will be set to null and zero.&nbsp; The start iterator will be left equal to end or after the symbol tokens.</p><p>If it wasn't on a symbol to begin with it will return false, A, B, and C will all be set to null and zero, and the start iterator will not be moved.</p></div>
</div>

<a name="CodeClear.NaturalDocs.Engine.Comments.LineFinder.CountEdgeSymbols"></a><a name="Topic797"></a><div class="CTopic TFunction LCSharp">
 <div class="CTitle">CountEdgeSymbols</div>
 <div id="NDPrototype797" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">private static</span> <span class="SHKeyword">bool</span> CountEdgeSymbols (</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="first"></td><td class="PType"><a href="../../index.html#File2:Tokenization/LineIterator.cs:CodeClear.NaturalDocs.Engine.Tokenization.LineIterator" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,3485);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >LineIterator</a>&nbsp;</td><td class="PName last">line,</td></tr><tr><td class="PModifierQualifier first"><span class="SHKeyword">out</span>&nbsp;</td><td class="PType"><span class="SHKeyword">char</span>&nbsp;</td><td class="PName last">leftSymbol,</td></tr><tr><td class="PModifierQualifier first"><span class="SHKeyword">out</span>&nbsp;</td><td class="PType"><span class="SHKeyword">char</span>&nbsp;</td><td class="PName last">rightSymbol,</td></tr><tr><td class="PModifierQualifier first"><span class="SHKeyword">out</span>&nbsp;</td><td class="PType"><span class="SHKeyword">int</span>&nbsp;</td><td class="PName last">leftSymbolCount,</td></tr><tr><td class="PModifierQualifier first"><span class="SHKeyword">out</span>&nbsp;</td><td class="PType"><span class="SHKeyword">int</span>&nbsp;</td><td class="PName last">rightSymbolCount,</td></tr><tr><td class="PModifierQualifier first"><span class="SHKeyword">out</span>&nbsp;</td><td class="PType"><span class="SHKeyword">bool</span>&nbsp;</td><td class="PName last">symbolIsAloneOnLine</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div>
 <div class="CBody"><p>An internal function that detects whether the <a href="../../index.html#File2:Tokenization/LineIterator.cs:CodeClear.NaturalDocs.Engine.Tokenization.LineIterator" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,3485);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >LineIterator</a> has symbols on its left and/or right sides.&nbsp; The symbols must be no longer than three characters and be separated by whitespace from any other content on the line.&nbsp; If either edge has symbols it will return true along with what they are and how many.&nbsp; If neither do it will return false.&nbsp; The variables will be set to the null character and a zero count for any edge that doesn't have symbols.</p><p>symbolIsAloneOnLine is set to true if there was only one symbol on the line and no other content.&nbsp; The symbol and count will be returned as the left side, but it's possible it would be intended for the right.&nbsp; For example, look at this comment box:</p><pre>////////////<br />// text   //<br />//        //<br />// text   //<br />////////////</pre><p>Marking the comment symbols will leave the resulting content like this when using <a href="../../index.html#File2:Tokenization/LineBoundsMode.cs:CodeClear.NaturalDocs.Engine.Tokenization.LineBoundsMode.CommentContent" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,3480);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >LineBoundsMode.CommentContent</a>:</p><pre>//////////<br />text   //<br />//<br />text   //<br />//////////</pre><p>The slashes on the middle line will be returned as the left symbol but is meant to be the right.&nbsp; Make sure you handle this situation correctly.</p></div>
</div>

<a name="CodeClear.NaturalDocs.Engine.Comments.LineFinder.CountSymbols"></a><a name="Topic798"></a><div class="CTopic TFunction LCSharp">
 <div class="CTitle">CountSymbols</div>
 <div id="NDPrototype798" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">private static</span> <span class="SHKeyword">bool</span> CountSymbols (</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PModifierQualifier first"><span class="SHKeyword">ref</span>&nbsp;</td><td class="PType"><a href="../../index.html#File2:Tokenization/TokenIterator.cs:CodeClear.NaturalDocs.Engine.Tokenization.TokenIterator" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,3415);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >TokenIterator</a>&nbsp;</td><td class="PName last">start,</td></tr><tr><td class="first"></td><td class="PType"><a href="../../index.html#File2:Tokenization/TokenIterator.cs:CodeClear.NaturalDocs.Engine.Tokenization.TokenIterator" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,3415);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >TokenIterator</a>&nbsp;</td><td class="PName last">end,</td></tr><tr><td class="PModifierQualifier first"><span class="SHKeyword">out</span>&nbsp;</td><td class="PType"><span class="SHKeyword">char</span>&nbsp;</td><td class="PName last">symbol,</td></tr><tr><td class="PModifierQualifier first"><span class="SHKeyword">out</span>&nbsp;</td><td class="PType"><span class="SHKeyword">int</span>&nbsp;</td><td class="PName last">count</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div>
 <div class="CBody"><p>An internal function that detects whether the <a href="../../index.html#File2:Tokenization/TokenIterator.cs:CodeClear.NaturalDocs.Engine.Tokenization.TokenIterator" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,3415);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >TokenIterator</a> is on a stretch of symbols, and if so, returns true along with what the symbol is and how many there are.&nbsp; It will leave the start iterator equal to end or at the first token after the stretch.</p><p>If the start iterator wasn't on a symbol it returns false, sets the symbol to null, the count to zero, and does not move the start iterator.</p></div>
</div>

<a name="CodeClear.NaturalDocs.Engine.Comments.LineFinder.ReverseCountSymbols"></a><a name="Topic799"></a><div class="CTopic TFunction LCSharp last">
 <div class="CTitle">ReverseCountSymbols</div>
 <div id="NDPrototype799" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">private static</span> <span class="SHKeyword">bool</span> ReverseCountSymbols (</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="first"></td><td class="PType"><a href="../../index.html#File2:Tokenization/TokenIterator.cs:CodeClear.NaturalDocs.Engine.Tokenization.TokenIterator" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,3415);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >TokenIterator</a>&nbsp;</td><td class="PName last">start,</td></tr><tr><td class="PModifierQualifier first"><span class="SHKeyword">ref</span>&nbsp;</td><td class="PType"><a href="../../index.html#File2:Tokenization/TokenIterator.cs:CodeClear.NaturalDocs.Engine.Tokenization.TokenIterator" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,3415);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >TokenIterator</a>&nbsp;</td><td class="PName last">end,</td></tr><tr><td class="PModifierQualifier first"><span class="SHKeyword">out</span>&nbsp;</td><td class="PType"><span class="SHKeyword">char</span>&nbsp;</td><td class="PName last">symbol,</td></tr><tr><td class="PModifierQualifier first"><span class="SHKeyword">out</span>&nbsp;</td><td class="PType"><span class="SHKeyword">int</span>&nbsp;</td><td class="PName last">count</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div>
 <div class="CBody"><p>An internal function that detects whether the <a href="../../index.html#File2:Tokenization/TokenIterator.cs:CodeClear.NaturalDocs.Engine.Tokenization.TokenIterator" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,3415);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >TokenIterator</a> is one past a stretch of symbols, and if so, returns true along with what the symbol is and how many there are.&nbsp; It will leave the end iterator equal to start or at the first token of the stretch.</p><p>If the end iterator wasn't on a symbol it returns false, sets the symbol to null, the count to zero, and does not move the end iterator.</p></div>
</div>

</body></html>